{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/util/store/model.js","webpack:///./src/util/store/view.js","webpack:///./src/util/store/controller.js","webpack:///./src/pages/Store.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Model","proclaimers","biblesticks","callbacks","signInSuccessWithAuthResult","authResult","redirectUrl","signInSuccess","signInFlow","signInSuccessUrl","signInOptions","firebase","auth","GoogleAuthProvider","PROVIDER_ID","FacebookAuthProvider","EmailAuthProvider","tosUrl","productsFirebase","window","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","this","DB","firestore","self","Promise","resolve","reject","collection","orderBy","then","querySnapshot","forEach","doc","product","data","id","products","push","catch","error","console","log","url","FCBH","BASE_URL","$","status","length","parseRawBibles","fail","rawBibles","row","bible","Volume_Name","FCBHStore","damId","Full_Bible_Audio_DAM_ID","OT_Audio_DAM_ID","NT_Audio_DAM_ID","bibles","languageName","LangName","langaugeNameList","indexOf","damIdStockNumberMap","toLowerCase","StockNumber","lang","selectedLanguage","j","backupBible","stockNum","selectedStockNum","quantity","getSelectedBible","productAlreadyInCart","cart","getCart","price","title","fullMP3s","item","stock_no","parseInt","subtotal","parseFloat","last_addition","Date","getTime","unit_price","language","version","media_type","capitalize","portion","Portion","thumbnail","saveCart","items","splice","localStorage","getItem","localStorageId","JSON","parse","newCart","setItem","stringify","runningTotal","runningQuantity","total","total_quantity","minimumIEVersion","ua","navigator","userAgent","msie","substring","rv","View","document","getElementById","querySelector","createCallbacks","checkoutAsGuestButton","textContent","closeLink","style","opacity","cartContainer","addEventListener","ev","preventDefault","stopPropagation","bibleDropdown","onchange","target","options","selectedIndex","onBibleDropdownChange","searchbar","onclick","onkeyup","e","onSearchbarValueChange","which","handleLanguageAutocompleteInteraction","languageAutocomplete","checkouts","querySelectorAll","onCheckout","onGuestCheckout","closeCart","text","selectedBible","dropdown","innerHTML","dam_id","slice","selected","keys","productName","String","Proclaimer","Digital_Player","includes","Micro_SD","MPs","pricing","productList","avaliableProducts","filter","isProductAvailable","emptyProducts","display","productNodes","map","node","createElement","setAttribute","classList","add","dataset","productPriceHTML","createProductPriceHtml","html","description","call_for_pricing","append","form","input","button","find","messageContainer","submitFn","onAddItemToCart","err","languageList","_this","matches","_ret","div","search","_loop","v","matchedText","restOfText","onLanguageChange","appendChild","_ret2","emptyCart","it","onDeleteCartItem","qtyInput","onUpdateCartItemQuantity","toFixed","cartBadge","config","firebaseui","AuthUI","start","firebaseAuthContainer","loader","setTimeout","parentElement","removeChild","el","msg","firstChild","active","type","nodeName","remove","innerText","nextElementSibling","previousElementSibling","setSearchbar","cartIcon","dispatchEvent","MouseEvent","view","bubbles","cancelable","element","isClosed","maxHeight","padding","scrollHeight","border","parent","sibling","insertBefore","pluralExtension","openCart","user","greeting","displayName","onLogout","message","body","Controller","model","createViewCallbacks","createEventListeners","isNaN","flashIndicator","addToCart","setCart","getCartData","resetQuantity","newIndex","setProducts","setLanguageAutocomplete","handleLanguageChange","newQuantity","Error","updateCart","deleteCartItem","currentUser","location","href","login","cartCheckoutBtn","openSigningModal","signOut","setLoadingScreen","replace","onViewDidLoad","closest","onAuthStateChanged","setUserGreeting","browserNotCompatible","setLoader","setFirebaseAuthLoginUI","firebaseAuthUIConfig","fetchProducts","fetchBibles","params","parseURLParameters","overflow","stockId","setBiblesDropdown","getBiblesForSelectedLanguage","createScript","src","script","head","onload","split","charAt","toUpperCase","join","initializeFirebase"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,I,uUClF9C,IAAMC,EAAb,WA6CE,c,4FAAc,mCA5CK,IA4CL,kBA3CH,IA2CG,gBA1CL,IA0CK,0BAzCK,IAyCL,6BAxCQ,IAwCR,cAvCP,CACLC,YAAa,CAAC,yBAA0B,qBAAsB,cAC9DC,YAAa,CAAC,sBAAuB,gBAqCzB,0BAnCK,WAmCL,0BAlCK,SAkCL,kBA/BH,CAAC,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,UA+B7D,wBA7BG,aA6BH,8BA3BS,CACrBC,UAAW,CACTC,4BAA6B,SAAqCC,EAAYC,GAI5E,OAAO,GAETC,cAAe,WACb,OAAO,IAIXC,WAAY,QACZC,iBAAkB,GAClBC,cAAe,CAEbC,SAASC,KAAKC,mBAAmBC,YACjCH,SAASC,KAAKG,qBAAqBD,YACnCH,SAASC,KAAKI,kBAAkBF,aAGlCG,OAAQ,mBAKI,YAHT,MAGS,cAFP,MAIL,IAAMC,EAAmBC,OAAOR,SAASS,cACvC,CACEC,OAAQ,0CACRC,WAAY,6BACZC,YAAa,oCACbC,UAAW,aACXC,cAAe,yBACfC,kBAAmB,gBAErB,aAGFC,KAAKC,GAAKV,EAAiBW,Y,UA3D/B,O,EAAA,G,EAAA,4BA8DE,WACE,IAAIC,EAAOH,KACX,OAAO,IAAII,SAAQ,SAAUC,EAASC,GACpCH,EAAKF,GAAGM,WAAW,YAChBC,QAAQ,SACRtD,MACAuD,MAAK,SAAUC,GACdA,EAAcC,SAAQ,SAAUC,GAC9B,IAAIC,EAAUD,EAAIE,OAClBD,EAAQE,GAAKH,EAAIG,GACjBZ,EAAKa,SAASC,KAAKJ,MAErBR,OAEDa,OAAM,SAAUC,GACfC,QAAQC,IAAI,oBACZf,EAAOa,WA9EjB,yBAkFE,WACE,IAAIhB,EAAOH,KACPsB,EAAM,GAAH,OAAMC,KAAKC,SAAX,wBACP,OAAO,IAAIpB,SAAQ,SAAUC,EAASC,GACpCd,OAAOiC,EAAEvE,IACPoE,GACA,SAAUR,EAAMY,GACA,WAAVA,GAAuBZ,GAAQA,EAAKa,OAAS,GAC/CxB,EAAKyB,eAAed,GACpBM,QAAQC,IAAIP,GACZT,MAEAe,QAAQC,IAAI,sCACZf,GAAO,MAGX,QACAuB,MAAK,SAAUV,GACfC,QAAQC,IAAI,uBACZf,EAAOa,WArGf,4BAyGE,SAAeW,GAIb,IAHA,IAGSzF,EAAI,EAAGA,EAAIyF,EAAUH,OAAQtF,IAAK,CACzC,IAAI0F,EAAMD,EAAUzF,GAAG2F,MACvB,GAAwB,SAApBD,EAAIE,aAA4C,aAAlBF,EAAIG,UAA0B,CAC9D,IAAIC,EAAQJ,EAAIK,yBAA2BL,EAAIM,iBAAmBN,EAAIO,gBACtE,GAAIH,GAAmB,QAAVA,EAAiB,CAPvBnC,KAQAuC,OAAOtB,KAAKc,GAEjB,IAAIS,EAAeT,EAAIU,UAC6B,GAX/CzC,KAWI0C,iBAAiBC,QAAQH,IAX7BxC,KAYE0C,iBAAiBzB,KAAKuB,GAZxBxC,KAeA4C,oBAAoBT,EAAMU,eAAiBd,EAAIe,YAAYD,mBAzH1E,iCA8HE,SAAoBE,GAClB/C,KAAKgD,iBAAmBD,IA/H5B,0CAiIE,WAGE,IAFA,IACIR,EAAS,GACJU,EAAI,EAAGA,EAFLjD,KAEcuC,OAAOZ,OAAQsB,IAAK,CAC3C,IAAIjB,EAHKhC,KAGQuC,OAAOU,GACpBjB,EAAMS,SAASI,gBAJV7C,KAIiCgD,iBAAiBH,eACzDN,EAAOtB,KAAKe,GAGhB,OAAOO,IA1IX,8BA6IE,WAME,IALA,IAIIW,EAHAH,EADO/C,KACKgD,iBACZG,EAFOnD,KAESoD,iBAGX/G,EAAI,EAAGA,EALL2D,KAKcuC,OAAOZ,OAAQtF,IAAK,CAC3C,IAAI2F,EANKhC,KAMQuC,OAAOlG,GAKxB,GAJI2F,EAAMS,SAASI,gBAAkBE,EAAKF,eAAkBK,IAC1DA,EAAclB,GAGZmB,GAAYnB,EAAMc,cAAgBK,EACpC,OAAOnB,EAGX,OAAOkB,IA7JX,uBAoKE,SAAUrC,EAASwC,GACjB,IACIrB,EADOhC,KACMsD,mBACjB,IAAKtB,EACH,OAAO,EAQT,IALA,IAAIuB,GAAuB,EACvBC,EAPOxD,KAOKyD,UACZC,EACiB,aAAlB7C,EAAQ8C,MATA3D,KAS8B4D,SAASjB,QAAQX,EAAMc,cAAgB,EAAK,QAAUjC,EAAQ6C,MAE9FrH,EAAI,EAAGA,EAAImH,EAAK7B,OAAQtF,IAAK,CACpC,IAAIwH,EAAOL,EAAKnH,GAEhB,GAAIwH,EAAKC,WAAa9B,EAAMc,aAAee,EAAK9C,KAAOF,EAAQE,GAAI,CACjE8C,EAAKR,SAAWU,SAASF,EAAKR,UAAYU,SAASV,GACnDQ,EAAKG,SAAWC,WAAWP,GAASK,SAASF,EAAKR,UAClDQ,EAAKK,eAAgB,IAAIC,MAAOC,UAChCb,GAAuB,EACvB,OAsBJ,OAlBKA,GACHC,EAAKvC,KAAK,CACRF,GAAIF,EAAQE,GACZ4C,MAAO9C,EAAQ8C,MACfU,WAAYX,EACZI,SAAU9B,EAAMc,YAChBwB,SAAUtC,EAAMS,SAChB8B,QAASvC,EAAMC,YACfuC,WAAYxC,EAAMwC,WAAWC,aAC7BC,QAAS1C,EAAM2C,QACftB,SAAUA,EACVuB,UAAW/D,EAAQ+D,UACnBZ,SAAUC,WAAWP,GAASK,SAASV,GACvCa,eAAe,IAAIC,MAAOC,YApCnBpE,KAwCN6E,SAASrB,IACP,IA9MX,wBAgNE,SAAWK,EAAMR,GAEf,IADA,IAAIyB,EAAQ9E,KAAKyD,UACRpH,EAAI,EAAGA,EAAIyI,EAAMnD,OAAQtF,IAChC,GAAIyI,EAAMzI,GAAGyH,WAAaD,EAAKC,UAAYgB,EAAMzI,GAAG0E,KAAO8C,EAAK9C,GAAI,CAClE+D,EAAMzI,GAAGgH,SAAWA,EACpByB,EAAMzI,GAAG2H,SAAWC,WAAWa,EAAMzI,GAAGgI,YAAcN,SAASV,GAC/D,MAGJrD,KAAK6E,SAASC,KAzNlB,4BA2NE,SAAejB,GAEb,IADA,IAAIiB,EAAQ9E,KAAKyD,UACRpH,EAAI,EAAGA,EAAIyI,EAAMnD,OAAQtF,IAChC,GAAIyI,EAAMzI,GAAG0E,KAAO8C,EAAK9C,IAAM+D,EAAMzI,GAAGyH,WAAaD,EAAKC,SAAU,CAClEgB,EAAMC,OAAO1I,EAAG,GAChB,MAGJ2D,KAAK6E,SAASC,KAnOlB,qBAqOE,WACE,IAAIpI,EAAIsI,aAAaC,QAAQjF,KAAKkF,gBAClC,OAAOxI,EAAIyI,KAAKC,MAAM1I,GAAK,KAvO/B,sBAyOE,SAAS2I,GACPL,aAAaM,QAAQtF,KAAKkF,eAAgBC,KAAKI,UAAUF,MA1O7D,yBA+OE,WAME,IALA,IACIP,EADO9E,KACMyD,UAEb+B,EAAe,EACfC,EAAkB,EACbpJ,EAAI,EAAGA,EAAIyI,EAAMnD,OAAQtF,IAChCmJ,GAAgBvB,WAAWa,EAAMzI,GAAG2H,UACpCyB,GAAmB1B,SAASe,EAAMzI,GAAGgH,UASvC,MANU,CACRyB,MAAOA,EACPd,SAAUwB,EACVE,MAAOF,EACPG,eAAgBF,KA9PtB,kCAkQE,WACE,IAAIlB,EAAUvE,KAAK4F,iBACfC,EAAKrG,OAAOsG,UAAUC,UACtBC,EAAOH,EAAGlD,QAAQ,SAEtB,GAAIqD,EAAO,EAGT,OADUjC,SAAS8B,EAAGI,UAAUD,EAAO,EAAGH,EAAGlD,QAAQ,IAAKqD,IAAQ,IACvDzB,EAIb,GADcsB,EAAGlD,QAAQ,YACX,EAAG,CAEf,IAAIuD,EAAKL,EAAGlD,QAAQ,OAEpB,OADUoB,SAAS8B,EAAGI,UAAUC,EAAK,EAAGL,EAAGlD,QAAQ,IAAKuD,IAAM,IACnD3B,EAEb,OAAO,O,2BApRX,K,w3DCAO,IAAM4B,EAAb,WA6BE,c,4FAAc,4BA5BF,SA4BE,mBA3BFC,SAASC,eAAe,cA2BtB,uBA1BED,SAASC,eAAe,YA0B1B,qBAzBAD,SAASE,cAAc,wBAyBvB,uBAxBEF,SAASE,cAAc,iBAwBzB,8BAvBSF,SAASC,eAAe,6BAuBjC,cAtBPD,SAASE,cAAc,oBAsBhB,mBArBFF,SAASE,cAAc,iBAqBrB,uBApBEF,SAASE,cAAc,oBAoBzB,mBAnBFF,SAASE,cAAc,gBAmBrB,kBAlBHF,SAASE,cAAc,qBAkBpB,mBAjBFF,SAASE,cAAc,4BAiBrB,kBAhBHF,SAASE,cAAc,yBAgBpB,+BAfUF,SAASE,cAAc,qBAejC,+BAdUF,SAASE,cAAc,uBAcjC,yBAbIF,SAASE,cAAc,sBAa3B,qVACZtG,KAAKuG,kBACLvG,KAAKwG,sBAAsBC,YAAc,oB,UA/B7C,O,EAAA,G,EAAA,8BAkCE,WAAkB,WAChBzG,KAAK0G,UAAUC,MAAMC,QAAU,IAC/B5G,KAAK6G,cAAcC,iBAAiB,SAAS,SAACC,GAC5CA,EAAGC,iBACHD,EAAGE,qBAELjH,KAAKkH,cAAcC,SAAW,YAA4C,QAAzCC,OAAUC,EAA+B,EAA/BA,QAASC,EAAsB,EAAtBA,cAC9ChK,EAAQ+J,EAAQC,GAAehK,MACnC,EAAKiK,sBAAsBD,EAAehK,IAG5C0C,KAAKwH,UAAUC,QAAUzH,KAAKwH,UAAUE,QAAU,SAACC,GACjD,EAAKC,uBAAuBD,EAAEE,MAAOF,EAAEP,OAAO9J,QAGhD0C,KAAKwH,UAAUV,iBAAiB,SAAS,SAACC,GAAD,OAAQ,EAAKe,sCAAsCf,MAC5F/G,KAAK+H,qBAAqBjB,iBAAiB,aAAa,SAACC,GAAD,OAAQ,EAAKe,sCAAsCf,MAE3G/G,KAAKwH,UAAUV,iBAAiB,WAAW,SAAUa,GACpC,IAAXA,EAAEE,OAA0B,IAAXF,EAAEE,OAA0B,IAAXF,EAAEE,OACtCF,EAAEX,oBAKN,IADA,IAAIgB,EAAY5B,SAAS6B,iBAAiB,aACjC5L,EAAI,EAAGA,EAAI2L,EAAUrG,OAAQtF,IACpC2L,EAAU3L,GAAGoL,QAAU,WACrB,EAAKS,cAITlI,KAAKwG,sBAAsBiB,QAAU,WACnC,EAAKU,mBAGPnI,KAAK0G,UAAUI,iBAAiB,SAAS,WACvC,EAAKsB,iBAtEX,0BA0EE,SAAaC,GACXrI,KAAKwH,UAAUlK,MAAQ+K,IA3E3B,+BA6EE,SAAkB9F,EAAQ+F,GACxB,IACIC,EADOvI,KACSkH,cAKpB,GAFAqB,EAASC,UAAY,GAEhBjG,GAA4B,IAAlBA,EAAOZ,OAKtB,IAAK,IAAIsB,EAAI,EAAGA,EAAIV,EAAOZ,OAAQsB,IAAK,CACtC,IAAIjB,EAAQO,EAAOU,GAIfwF,EAASzG,EAAMM,iBAAmBN,EAAMK,iBAAmB,GAC/D,GAAIoG,EACMA,EAAOC,MAAM,EAAG,GAAG7F,cAU7B,IAAI8F,EAAW,GACVL,GAAuB,IAANrF,EAEXqF,GAAiBA,EAAcxF,YAAYD,gBAAkBb,EAAMc,YAAYD,gBACxF8F,EAAW,YAFXA,EAAW,WAKbJ,EAASC,WACP,WACEG,EACA,WACA3G,EAAMc,YACN,KACAd,EAAMC,YACN,KACAD,EAAMwC,WAAWC,aACjB,MACAzC,EAAM2C,UAAW3C,OAtCrBuG,EAASC,UAAY,oDArF3B,gCAqIE,SAAmB3H,EAAS+H,EAAM5G,GAChC,IAAM6G,EAAcC,OAAOjI,EAAQ8C,OAAOd,cAC1C,OAAI+F,EAAKtK,YAAYqE,QAAQkG,IAAgB,GAA0B,QAArB7G,EAAM+G,YAE7CH,EAAKrK,YAAYoE,QAAQkG,IAAgB,GAA8B,QAAzB7G,EAAMgH,mBAEpDH,EAAYI,SAAS,YAAiC,QAAnBjH,EAAMkH,cAEzCL,EAAYI,SAAS,cAAejH,EAAMmH,OA7IzD,oCAmJE,SAAuBtI,EAASmB,EAAO4B,GACrC,IACMwF,EAA2B,aADbvI,EAAQ8C,MAAMd,cACce,EAASjB,QAAQX,EAAMc,cAAgB,EAAK,QAAUjC,EAAQ6C,MAC9G,sEAC+C0F,EAD/C,4YAcqBvI,EAAQE,GAd7B,6JAmBYF,EAAQE,GAnBpB,qbA6ByBF,EAAQE,GA7BjC,+QAtJJ,yBA8LE,SAAY6H,EAAM5H,EAAUgB,EAAO4B,GAAU,aAK3C,GAJA5D,KAAKqJ,YAAYb,UAAY,GAE7B5E,EAAWA,GAAY,GAElB5B,EAAL,CAGA,IAAMsH,EAAoBtI,EAASuI,QAAO,SAAC1I,GAAD,OAAa,EAAK2I,mBAAmB3I,EAAS+H,EAAM5G,MAE7D,IAA7BsH,EAAkB3H,QAChB3B,KAAKyJ,gBACPzJ,KAAKyJ,cAAc9C,MAAM+C,QAAU,SAErC1J,KAAKqJ,YAAY1C,MAAM+C,QAAU,SAEjC1J,KAAKqJ,YAAY1C,MAAM+C,QAAU,OAC7B1J,KAAKyJ,gBACPzJ,KAAKyJ,cAAc9C,MAAM+C,QAAU,SAIvC,IAAMC,EAAeL,EAAkBM,KAAI,SAAC/I,GAC1C,IAAMgJ,EAAOzD,SAAS0D,cAAc,OACpCD,EAAKE,aAAa,OAAQ,YAC1BF,EAAKG,UAAUC,IAAI,sBACnBJ,EAAKK,QAAQnJ,GAAKF,EAAQE,GAE1B,IACMoJ,EAAmB,EAAKC,uBAAuBvJ,EAASmB,EAAO4B,GAC/DyG,EAAO,iGAAH,OAEFxJ,EAAQ+D,UAFN,kBAGM/D,EAAQ8C,MAHd,6NAMqB9C,EAAQ8C,MAN7B,wEAQkB9C,EAAQyJ,YAR1B,yBASRzJ,EAAQ0J,iBAXc,wDAWuBJ,EATrC,wBAYV,OADAN,EAAKrB,UAAY6B,EACVR,MAGT,EAAA7J,KAAKqJ,aAAYmB,OAAjB,UAA2Bb,IAG3B,IAhD2C,MAgDtB3J,KAAKqJ,YAAYpB,iBAAiB,SAhDZ,yBAkDhCwC,EAlDgC,QAmDnCC,EAAQD,EAAKnE,cAAc,wBAC3BqE,EAASF,EAAKnE,cAAc,uBAC5BzF,EAAUG,EAAS4J,MAAK,qBAAG7J,MAAgB4J,aAAL,EAAKA,EAAQT,QAAQnJ,OACjE,IAAKF,EACH,cAEF,IAAMgK,EAAmBzE,SAASC,eAAT,4BAA6CxF,EAAQE,KACxE+J,EAAW,SAAC/D,GAChB,IACEA,EAAGC,iBACH,EAAK+D,gBAAgBlK,EAAS6J,EAAOG,GACrC,MAAOG,GACP5J,QAAQD,MAAM6J,KAGlBP,EAAK3D,iBAAiB,SAAUgE,GAChCH,EAAO7D,iBAAiB,QAASgE,IAjBnC,2BAAiC,iBAlDU,kCA9L/C,qCAqQE,SAAwBlN,EAAKN,EAAO2N,GAClC,IAAIC,EAAQlL,KAEZ,GAAY,KAARpC,GAAsB,KAARA,GAAsB,KAARA,EAAY,CAC1C,IAAIuN,EACA9O,EAEA+O,EAAQ,WACV,IAAIjL,EAAO+K,EACPG,EAAMlL,EAAK4H,qBACfsD,EAAI7C,UAAY,GAChB6C,EAAI1E,MAAM+C,QAAU,OAEpB,IAAI4B,EAAShO,EAAMuF,cAGnB,GAFAsI,EAAU,EAENG,EAAO3J,OAAS,EAAG,CACrB0J,EAAI1E,MAAM+C,QAAU,QAEpB,IAAI6B,EAAQ,WACV,GAAIJ,EAAU,EACZ,MAAO,CACLK,EAAG,CACDA,OAAG,IAIT,IAAIhJ,EAAeyI,EAAa5O,GAChC,GAAiD,GAA7CmG,EAAaK,cAAcyI,OAAOA,GAAc,CAClDH,IACA,IAAIM,EAAcjJ,EAAakG,MAAM,EAAG4C,EAAO3J,QAC3C+J,EAAalJ,EAAakG,MAAM4C,EAAO3J,QACvChF,EAAIyJ,SAAS0D,cAAc,OAC/BnN,EAAE6L,UAAY,WAAaiD,EAAc,YAAcC,EACvD/O,EAAE8K,QAAU,WACVtH,EAAKwL,iBAAiBnJ,IAExB6I,EAAIO,YAAYjP,KAIpB,IAAKN,EAAI,EAAGA,EAAI4O,EAAatJ,OAAQtF,IAAK,CACxC,IAAIwP,EAAQN,IAEZ,GAAqB,WAAjB,EAAOM,GAAoB,OAAOA,EAAML,EAG/B,GAAXL,IACFE,EAAI1E,MAAM+C,QAAU,OACpBtI,QAAQC,IAAI,gBA1CN,GA+CZ,GAAoB,WAAhB,EAAO+J,GAAmB,OAAOA,EAAKI,KA3ThD,qBA8TE,SAAQ1K,GAAM,aAGZd,KAAKwD,KAAKgF,UAAY,GAElB1H,EAAKgE,MAAMnD,OAAS,GACtByE,SAASE,cAAc,kBAAkBK,MAAM+C,QAAU,QACzD1J,KAAK8L,UAAUnF,MAAM+C,QAAU,SAE/BtD,SAASE,cAAc,kBAAkBK,MAAM+C,QAAU,OACzD1J,KAAK8L,UAAUnF,MAAM+C,QAAU,QAGjC,IAAM5E,EAAQhE,EAAKgE,MAAM8E,KAAI,SAAC/F,GAC5B,IAAMgG,EAAOzD,SAAS0D,cAAc,OAcpC,OAbAD,EAAKG,UAAUC,IAAI,aACnBJ,EAAKK,QAAQnJ,GAAK8C,EAAK9C,GACvB8I,EAAKrB,UAAL,kGAC+E3E,EAAKe,UADpF,kBACuGf,EAAKF,MAD5G,iHAG8BE,EAAKF,MAHnC,sEAI2CE,EAAKQ,WAJhD,2QAS+HR,EAAKR,SATpI,cAWOwG,MAGT,EAAA7J,KAAKwD,MAAKgH,OAAV,UAAoB1F,IAEpB,IAjCY,MAiCE9E,KAAKwD,KAAKyE,iBAAiB,eAjC7B,yBAkCD4B,EAlCC,QAmCJhG,EAAO/C,EAAKgE,MAAM8F,MAAK,SAACmB,GAAD,OAAQA,EAAGhL,KAAO8I,EAAKK,QAAQnJ,MAC5D,IAAK8C,EAEH,cAEgBgG,EAAKvD,cAAc,KAC3BQ,iBAAiB,SAAS,WAClC,EAAKkF,iBAAiBnI,MAGxB,IAAMoI,EAAWpC,EAAKvD,cAAc,SACpC2F,EAASnF,iBAAiB,UAAU,WAClC,IACE,EAAKoF,yBAAyBrI,EAAMoI,GACpC,SACAA,EAAS3O,MAAQuG,EAAKR,cAhB5B,2BAA0B,iBAlCd,8BAuDErD,KAAK6G,cAAcP,cAAc,kBACzCG,YAAN,YAAyB3F,EAAK4E,MAAMyG,QAAQ,GAA5C,QAEAnM,KAAKoM,UAAUzF,MAAM+C,QAAU5I,EAAK6E,eAAiB,eAAiB,OACtE3F,KAAKoM,UAAU5D,UAAY1H,EAAK6E,iBAzXpC,oCA2XE,SAAuB0G,GAEZ,IAAI7M,OAAO8M,WAAWrN,KAAKsN,OAAO/M,OAAOR,SAASC,QACxDuN,MAFQxM,KAEGyM,sBAAuBJ,KA9XzC,uBAgYE,SAAU7O,GACR,GAAa,SAATA,EAAiB,CACnB,IAAIkP,EAAStG,SAAS0D,cAAc,OACpC4C,EAAO3L,GAAK,oBACZ2L,EAAOlE,UACL,+GACFxI,KAAKqJ,YAAYuC,YAAYc,GAE7BC,YAAW,WACTD,EAAO/F,MAAMC,QAAU,IACtB,UAEHR,SAASC,eAAe,qBAAqBM,MAAMC,QAAU,EAC7D+F,YAAW,WACT,IAAID,EAAStG,SAASC,eAAe,qBACjCqG,GACFA,EAAOE,cAAcC,YAAYH,KAElC,OAlZT,4BAqZE,SAAeI,EAAIC,GACDD,EAAGE,WACTxE,UAAYuE,GAAY,iBAClCD,EAAGnG,MAAM+C,QAAU,QACnBiD,YAAW,WACTG,EAAGnG,MAAM+C,QAAU,SAClB,OA3ZP,mDA6ZE,SAAsC/B,GACpC,IACI0D,EADOrL,KACI+H,qBACXkF,EAAS5B,EAAI/E,cAAc,aAE/B,GAA0B,UAAtB+E,EAAI1E,MAAM+C,QACZ,GAAe,cAAX/B,EAAEuF,MAA2D,UAAnCvF,EAAEP,OAAO+F,SAAStK,cAC1CoK,GACFA,EAAOjD,UAAUoD,OAAO,aAE1BH,EAAStF,EAAEP,QACJ4C,UAAUC,IAAI,iBAChB,GAAc,SAAVtC,EAAEuF,MAA+B,IAAXvF,EAAEE,OAA0B,IAAXF,EAAEE,MAmB/B,SAAVF,EAAEuF,MAA8B,IAAXvF,EAAEE,OAE5BoF,GAhCGjN,KAiCA2L,iBAAiBsB,EAAOI,eAtBiC,CAOhE,GANA1F,EAAEX,iBAEEiG,GACFA,EAAOjD,UAAUoD,OAAO,YAGX,IAAXzF,EAAEE,MAEJoF,EAAUA,EAA0BA,EAAOK,oBAAsBL,EAA9C5B,EAAI2B,gBAClB,GAAe,IAAXrF,EAAEE,MAAa,CAExB,IAAKoF,EACH,OAEFA,EAASA,EAAOM,wBAA0BN,EAE5CA,EAAOjD,UAAUC,IAAI,YA5BdjK,KA6BFwN,aAAaP,EAAOI,cA3bjC,2BAocE,SAAcP,GACZA,EAAGxP,MAAQ,IArcf,sBAucE,WACE0C,KAAKyN,SAASC,cACZ,IAAIC,WAAW,QAAS,CACtBC,KAAMpO,OACNqO,SAAS,EACTC,YAAY,OA5cpB,uBAgdE,WACE1H,SAASE,cAAc,iBAAiBoH,cACtC,IAAIC,WAAW,QAAS,CACtBC,KAAMpO,OACNqO,SAAS,EACTC,YAAY,OArdpB,yBAydE,SAAYC,GACV,IAAI1C,EAAM0C,EAAQzH,cAAc,uCAC5B0H,EAAkC,OAAvB3C,EAAI1E,MAAMsH,WAA6C,KAAvB5C,EAAI1E,MAAMsH,UACzD5C,EAAI1E,MAAMuH,QAAUF,EAAW,UAAY,MAC3C3C,EAAI1E,MAAMsH,UAAYD,EAAW3C,EAAI8C,aAAe,KAAO,MAC3D9C,EAAI1E,MAAMyH,OAASJ,EAAW,oBAAsB,SA9dxD,oCAgeE,SAAuBnN,EAASC,GAC9B,IAAIX,EAAOH,KACP8M,EAAK1G,SAASC,eAAe,mBACjC,IAAKyG,EAAI,CACP,IAAIuB,EAASjI,SAASC,eAAe,iBACjCiI,EAAUlI,SAASC,eAAe,oBAClCgF,EAAMjF,SAAS0D,cAAc,OACjCuB,EAAItK,GAAK,kBACTsN,EAAOE,aAAalD,EAAKiD,GAG3B,IAAIE,EAAkB1N,EAAK6E,eAAiB,EAAI,IAAM,IACtDmH,EAAK1G,SAASC,eAAe,oBAC1BmC,UACD,wHACA3H,EAAQ+D,UACR,0GACA9D,EAAK6E,eACL,QACA6I,EACA,aACA1N,EAAK4E,MAAMyG,QAAQ,GACnB,yOAEFW,EAAGxG,cAAc,0BAA0BmB,QAAU,WACnDtH,EAAKsO,YAGP3B,EAAGxG,cAAc,wBAAwBmB,QAAU,WACjDtH,EAAK+H,gBA7fX,6BAggBE,SAAgBwG,GACd,IAAIvO,EAAOH,KACP0O,GAEFtN,QAAQC,IAAI,aAEZ+E,SAASE,cAAc,kBAAkBoH,cACvC,IAAIC,WAAW,QAAS,CACtBC,KAAMpO,OACNqO,SAAS,EACTC,YAAY,KAGhB3N,EAAKwO,SAASnG,UACZ,oCACAkG,EAAKE,YACL,uFACFzO,EAAKwO,SAASrI,cAAc,WAAWmB,QAAU,SAAUV,GACzDA,EAAGC,iBACHD,EAAGE,kBACH9G,EAAK0O,cAIPzN,QAAQC,IAAI,cACZlB,EAAKwO,SAASnG,UAAY,uCAzhBhC,8BA4hBE,SAAiBsG,GACf,IAAIzD,EAAMjF,SAAS0D,cAAc,OACjCuB,EAAItK,GAAK,iBACTsK,EAAI7C,UACF,8FAAgGsG,EAAU,QAC5G1I,SAAS2I,KAAKnD,YAAYP,KAjiB9B,qCAmiBE,WACE,IAAIyB,EAAK1G,SAASC,eAAe,mBAC7ByG,IACFA,EAAGnG,MAAM+C,QAAU,UAtiBzB,8BA0iBE,WACE1J,KAAK2O,SAASjB,cACZ,IAAIC,WAAW,QAAS,CACtBC,KAAMpO,OACNqO,SAAS,EACTC,YAAY,U,2BA/iBpB,K,8RCAO,IAAMkB,EAAb,WAeE,WAAYC,EAAOrB,I,4FAAM,wBAXjB,MAWiB,cAPlB,MAQL5N,KAAKiP,MAAQA,EACbjP,KAAK4N,KAAOA,EACZ5N,KAAKkP,sBACLlP,KAAKmP,uB,UAnBT,O,EAAA,G,EAAA,kCAuBE,WAAsB,WACdhP,EAAOH,KACbA,KAAK4N,KAAK7C,gBAAkB,SAAUlK,EAAS6J,EAAOG,GACpD,IAAIxH,EAAWqH,EAAMpN,MACjB8R,MAAM/L,KAAcA,GAAYA,GAAY,EAE9ClD,EAAKyN,KAAKyB,eAAexE,EAAkB,8BAGjC1K,EAAK8O,MAAMK,UAAUzO,EAASwC,KAExClD,EAAKyN,KAAK2B,QAAQpP,EAAK8O,MAAMO,eAC7BrP,EAAKyN,KAAKyB,eAAexE,GACzB1K,EAAKyN,KAAK6B,cAAc/E,GACxBvK,EAAKyN,KAAKa,aAMdzO,KAAK4N,KAAKrG,sBAAwB,SAAUmI,EAAUpS,GACpD6C,EAAK8O,MAAM7L,iBAAmB9F,EAC9B6C,EAAKyN,KAAK+B,YAAYxP,EAAK8O,MAAMrG,KAAMzI,EAAK8O,MAAMjO,SAAUb,EAAK8O,MAAM3L,mBAAoBnD,EAAK8O,MAAMrL,WAGxG5D,KAAK4N,KAAKhG,uBAAyB,SAAUhK,EAAKN,GAChD6C,EAAKyN,KAAKgC,wBAAwBhS,EAAKN,EAAO6C,EAAK8O,MAAMvM,mBAG3D1C,KAAK4N,KAAKjC,iBAAmB,SAAUrH,GACrCnE,EAAKyN,KAAK7F,qBAAqBpB,MAAM+C,QAAU,OAC/CvJ,EAAK0P,qBAAqBvL,GAAU,IAGtCtE,KAAK4N,KAAK1B,yBAA2B,SAAUrI,EAAMkK,GACnD,IAAM+B,EAAc/L,SAASgK,EAAQzQ,MAAO,IAC5C,GAAI8R,MAAMU,KAAiBA,GAAeA,GAAe,EACvD,MAAM,IAAIC,MAAM,gBAElB5P,EAAK8O,MAAMe,WAAWnM,EAAMiM,GAC5B3P,EAAKyN,KAAK2B,QAAQpP,EAAK8O,MAAMO,gBAG/BxP,KAAK4N,KAAK5B,iBAAmB,SAAUnI,GACrC1D,EAAK8O,MAAMgB,eAAepM,GAC1B1D,EAAKyN,KAAK2B,QAAQpP,EAAK8O,MAAMO,gBAG/BxP,KAAK4N,KAAK1F,WAAa,WACjB/H,EAAK8O,MAAMO,cAAc7J,eAAiB,IACxCnG,OAAOR,SAASC,OAAOiR,YACzB1Q,OAAO2Q,SAASC,KAAO,yBAEvBjQ,EAAKyN,KAAKyC,MAAM1J,MAAM+C,QAAU,UAKtC1J,KAAK4N,KAAKzF,gBAAkB,WACtBhI,EAAK8O,MAAMO,cAAc7J,eAAiB,IAC5CnG,OAAO2Q,SAASC,KAAO,eAI3BpQ,KAAK4N,KAAK0C,gBAAgBxJ,iBAAiB,SAAS,SAACC,GACnDA,EAAGC,iBACHD,EAAGE,kBACC,EAAKgI,MAAMP,KACblP,OAAO2Q,SAASC,KAAO,aAGzB,EAAKxC,KAAK2C,sBAGZvQ,KAAK4N,KAAKiB,SAAW,WACnBrP,OAAOR,SACJC,OACAuR,UACA/P,MACC,WACEN,EAAKyN,KAAK6C,iBAAiB,kBAC3BjR,OAAO2Q,SAASO,QAAQlR,OAAO2Q,SAASC,SAE1C,SAAUjP,GACRC,QAAQC,IAAI,oCA3GxB,kCAiHE,WAAuB,WAErBrB,KAAK2Q,gBAELvK,SAAS2I,KAAKjI,iBAAiB,SAAS,SAACa,GAEc,UAAjD,EAAKiG,KAAK7F,qBAAqBpB,MAAM+C,SAAwB/B,EAAEP,OAAOwJ,QAAQ,+BAChF,EAAKhD,KAAK7F,qBAAqBpB,MAAM+C,QAAU,WAMnDlK,OAAOR,SAASC,OAAO4R,oBAAmB,SAACnC,GACzC,EAAKd,KAAKkD,gBAAgBpC,GAC1B,EAAKO,MAAMP,KAAOA,OAhIxB,2BAoIE,WACEtN,QAAQC,IAAI,UACZ,IAAIlB,EAAOH,KAGPG,EAAK8O,MAAM8B,uBACb5Q,EAAKyN,KAAK6C,iBACR,kGAOJtQ,EAAKyN,KAAKoD,UAAU,QACpB7Q,EAAKyN,KAAKqD,uBAAuB9Q,EAAK8O,MAAMiC,sBAC5C/Q,EAAK8O,MACFkC,gBACA1Q,MAAK,WACJN,EAAK8O,MACFmC,cACA3Q,MAAK,WACJ,IAAI4Q,EAASlR,EAAKmR,mBAAmBnR,EAAK8O,MAAMjM,iBAAkB7C,EAAK8O,MAAM7L,kBAC7EjD,EAAKyN,KAAK2B,QAAQpP,EAAK8O,MAAMO,eAC7BrP,EAAKyN,KAAKoD,UAAU,QACpB5K,SAAS2I,KAAKpI,MAAM4K,SAAW,SAC/BpR,EAAK0P,qBAAqBwB,EAAO/M,SAAU+M,EAAOlO,UAClDiD,SAAS2I,KAAKpI,MAAM4K,SAAW,UAEhCrQ,OAAM,SAAUC,GACfC,QAAQC,IAAIF,SAGjBD,OAAM,SAAUC,GACfC,QAAQC,IAAIF,SAtKpB,gCA0KE,SAAmB4B,EAAMyO,GACvB,MAAO,CAAElN,SAAUvB,EAAMI,SAAUqO,KA3KvC,kCA8KE,SAAqBzO,EAAMI,GACdnD,KACNiP,MAAMjM,iBAAmBD,EADnB/C,KAENiP,MAAM7L,iBAAmBD,EAFnBnD,KAGN4N,KAAKJ,aAHCxN,KAGiBiP,MAAMjM,kBAHvBhD,KAIN4N,KAAK6D,kBAJCzR,KAIsBiP,MAAMyC,+BAJ5B1R,KAIiEiP,MAAM3L,oBAJvEtD,KAKN4N,KAAK+B,YALC3P,KAKgBiP,MAAMrG,KALtB5I,KAKiCiP,MAAMjO,SALvChB,KAKsDiP,MAAM3L,mBAL5DtD,KAKqFiP,MAAMrL,e,2BApL1G,K,4TCmBA,SAAS+N,EAAaC,GACpB,OAAO,IAAIxR,SAAQ,SAACC,GAClB,IAAMwR,EAASzL,SAAS0D,cAAc,UACtC+H,EAAO3E,KAAO,kBACd2E,EAAO9H,aAAa,QAAS,IAC7B8H,EAAOD,IAAMA,EACbxL,SAAS0L,KAAKlG,YAAYiG,GAC1BA,EAAOE,OAAS,WACd1R,QAvBNyI,OAAO7K,UAAUwG,WAAa,WAI5B,OACEzE,KAAK6C,cACFmP,MAAM,KAENpI,KAAI,SAAUxL,GACb,OAAOA,EAAE6T,OAAO,GAAGC,cAAgB9T,EAAE6H,UAAU,MAEhDkM,KAAK,MAiBZ3S,OAAOsH,iBAAiB,OAAxB,2BAAgC,qHACxB6K,EAAa,4DADW,uBAExBA,EAAa,kEAFW,uBAGxBA,EAAa,gEAHW,uBAIxBA,EAAa,6DAJW,OAK9BpQ,KAAK6Q,qBACCnD,EAAQ,IAAI5Q,EACZuP,EAAO,IAAIzH,EACE,IAAI6I,EAAWC,EAAOrB,GARX","file":"store.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 77);\n","export class Model {\n  minimumIEVersion = 11;\n  products = [];\n  bibles = [];\n  langaugeNameList = [];\n  damIdStockNumberMap = {};\n  keys = {\n    proclaimers: [\"proclaimer (mid-sized)\", \"proclaimer (micro)\", \"proclaimer\"],\n    biblesticks: [\"military biblestick\", \"biblestick\"],\n  };\n  selectedLanguage = \"English\"; // default value\n  selectedStockNum = \"C2CEV\"; // default value\n\n  //\tStock number for languages with $29 MP3's (as opposed to $10)\n  fullMP3s = [\"C1ESV\", \"C2ESV\", \"C1KJV\", \"C2KJV\", \"C1NRS\", \"C2NRS\", \"C2CEV\", \"C1CEV\"];\n\n  localStorageId = \"fcbh_cart\";\n\n  firebaseAuthUIConfig = {\n    callbacks: {\n      signInSuccessWithAuthResult: function signInSuccessWithAuthResult(authResult, redirectUrl) {\n        // User successfully signed in.\n        // Return type determines whether we continue the redirect automatically\n        // or whether we leave that to developer to handle.\n        return true;\n      },\n      signInSuccess: function signInSuccess() {\n        return false;\n      },\n    },\n    // Will use popup for IDP Providers sign-in flow instead of the default, redirect.\n    signInFlow: \"popup\", // popup\n    signInSuccessUrl: \"\", // aribtrary url goes in here\n    signInOptions: [\n      // Leave the lines as is for the providers you want to offer your users.\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n      firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n      firebase.auth.EmailAuthProvider.PROVIDER_ID,\n    ],\n    // Terms of service url.\n    tosUrl: \"<your-tos-url>\",\n  };\n  DB = null;\n  user = null;\n\n  constructor() {\n    // Initialize Firebase project w/ products\n    const productsFirebase = window.firebase.initializeApp(\n      {\n        apiKey: \"AIzaSyDTePGR2QMyGNEZDv8EuZ1JAkN0pbRWVSs\",\n        authDomain: \"fcbh-store.firebaseapp.com\",\n        databaseURL: \"https://fcbh-store.firebaseio.com\",\n        projectId: \"fcbh-store\",\n        storageBucket: \"fcbh-store.appspot.com\",\n        messagingSenderId: \"398564581481\",\n      },\n      \"secondary\"\n    );\n\n    this.DB = productsFirebase.firestore();\n  }\n\n  fetchProducts() {\n    var self = this;\n    return new Promise(function (resolve, reject) {\n      self.DB.collection(\"products\")\n        .orderBy(\"index\")\n        .get()\n        .then(function (querySnapshot) {\n          querySnapshot.forEach(function (doc) {\n            var product = doc.data();\n            product.id = doc.id;\n            self.products.push(product);\n          });\n          resolve();\n        })\n        .catch(function (error) {\n          console.log(\"firestore failed\");\n          reject(error);\n        });\n    });\n  }\n  fetchBibles() {\n    var self = this;\n    var url = `${FCBH.BASE_URL}resources/store.json`;\n    return new Promise(function (resolve, reject) {\n      window.$.get(\n        url,\n        function (data, status) {\n          if (status == \"success\" && data && data.length > 0) {\n            self.parseRawBibles(data);\n            console.log(data);\n            resolve();\n          } else {\n            console.log(\"fetch bibles status wasn't success\");\n            reject(false);\n          }\n        },\n        \"json\"\n      ).fail(function (error) {\n        console.log(\"fetch bibles failed\");\n        reject(error);\n      });\n    });\n  }\n  parseRawBibles(rawBibles) {\n    var self = this;\n    var keys = [\"Full_Bible_Audio_DAM_ID\", \"OT_Audio_DAM_ID\", \"NT_Audio_DAM_ID\"];\n\n    for (var i = 0; i < rawBibles.length; i++) {\n      var row = rawBibles[i].bible;\n      if (row.Volume_Name !== \"#N/A\" && row.FCBHStore === \"Licensed\") {\n        var damId = row.Full_Bible_Audio_DAM_ID || row.OT_Audio_DAM_ID || row.NT_Audio_DAM_ID;\n        if (damId && damId !== \"N/A\") {\n          self.bibles.push(row);\n\n          var languageName = row.LangName;\n          if (self.langaugeNameList.indexOf(languageName) == -1) {\n            self.langaugeNameList.push(languageName);\n          }\n\n          self.damIdStockNumberMap[damId.toLowerCase()] = row.StockNumber.toLowerCase();\n        }\n      }\n    }\n  }\n  setSelectedLanguage(lang) {\n    this.selectedLanguage = lang;\n  }\n  getBiblesForSelectedLanguage() {\n    var self = this;\n    var bibles = [];\n    for (var j = 0; j < self.bibles.length; j++) {\n      var bible = self.bibles[j];\n      if (bible.LangName.toLowerCase() === self.selectedLanguage.toLowerCase()) {\n        bibles.push(bible);\n      }\n    }\n    return bibles;\n  }\n\n  getSelectedBible() {\n    var self = this;\n    var lang = self.selectedLanguage;\n    var stockNum = self.selectedStockNum;\n\n    var backupBible;\n    for (var i = 0; i < self.bibles.length; i++) {\n      var bible = self.bibles[i];\n      if (bible.LangName.toLowerCase() === lang.toLowerCase() && !backupBible) {\n        backupBible = bible;\n      }\n\n      if (stockNum && bible.StockNumber === stockNum) {\n        return bible;\n      }\n    }\n    return backupBible;\n  }\n\n  /**\n   * return a boolean value stating whether item was added\n   * if it was added, display indicator \"added to cart\"\n   */\n  addToCart(product, quantity) {\n    var self = this;\n    var bible = self.getSelectedBible();\n    if (!bible) {\n      return false;\n    }\n\n    var productAlreadyInCart = false;\n    var cart = self.getCart();\n    var price =\n      (product.title === \"MP3 Disc\") & (self.fullMP3s.indexOf(bible.StockNumber) >= 0) ? \"29.00\" : product.price;\n\n    for (var i = 0; i < cart.length; i++) {\n      var item = cart[i];\n\n      if (item.stock_no === bible.StockNumber && item.id === product.id) {\n        item.quantity = parseInt(item.quantity) + parseInt(quantity);\n        item.subtotal = parseFloat(price) * parseInt(item.quantity);\n        item.last_addition = new Date().getTime();\n        productAlreadyInCart = true;\n        break;\n      }\n    }\n\n    if (!productAlreadyInCart) {\n      cart.push({\n        id: product.id,\n        title: product.title,\n        unit_price: price,\n        stock_no: bible.StockNumber,\n        language: bible.LangName,\n        version: bible.Volume_Name,\n        media_type: bible.media_type.capitalize(),\n        portion: bible.Portion,\n        quantity: quantity,\n        thumbnail: product.thumbnail,\n        subtotal: parseFloat(price) * parseInt(quantity),\n        last_addition: new Date().getTime(),\n      });\n    }\n\n    self.saveCart(cart);\n    return true;\n  }\n  updateCart(item, quantity) {\n    var items = this.getCart();\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].stock_no === item.stock_no && items[i].id === item.id) {\n        items[i].quantity = quantity;\n        items[i].subtotal = parseFloat(items[i].unit_price) * parseInt(quantity);\n        break;\n      }\n    }\n    this.saveCart(items);\n  }\n  deleteCartItem(item) {\n    var items = this.getCart();\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].id === item.id && items[i].stock_no === item.stock_no) {\n        items.splice(i, 1);\n        break;\n      }\n    }\n    this.saveCart(items);\n  }\n  getCart() {\n    var c = localStorage.getItem(this.localStorageId);\n    return c ? JSON.parse(c) : [];\n  }\n  saveCart(newCart) {\n    localStorage.setItem(this.localStorageId, JSON.stringify(newCart));\n  }\n  /**\n   * returns cart items along with totals\n   */\n  getCartData() {\n    var self = this;\n    var items = self.getCart();\n\n    var runningTotal = 0;\n    var runningQuantity = 0;\n    for (var i = 0; i < items.length; i++) {\n      runningTotal += parseFloat(items[i].subtotal);\n      runningQuantity += parseInt(items[i].quantity);\n    }\n\n    var obj = {\n      items: items,\n      subtotal: runningTotal,\n      total: runningTotal,\n      total_quantity: runningQuantity,\n    };\n    return obj;\n  }\n  browserNotCompatible() {\n    var version = this.minimumIEVersion;\n    var ua = window.navigator.userAgent;\n    var msie = ua.indexOf(\"MSIE \");\n\n    if (msie > 0) {\n      // \t\t\t\treturn true;\n      const e = parseInt(ua.substring(msie + 5, ua.indexOf(\".\", msie)), 10);\n      return e < version;\n    }\n\n    var trident = ua.indexOf(\"Trident/\");\n    if (trident > 0) {\n      // IE 11 => return version number\n      var rv = ua.indexOf(\"rv:\");\n      const e = parseInt(ua.substring(rv + 3, ua.indexOf(\".\", rv)), 10);\n      return e < version;\n    }\n    return false;\n  }\n}\n","export class View {\n  cartWidth = \"300px\";\n  searchbar = document.getElementById(\"searchbar\");\n  bibleDropdown = document.getElementById(\"Version\");\n  productList = document.querySelector(\"#products-container\");\n  emptyProducts = document.querySelector(\".w-dyn-empty\");\n  languageAutocomplete = document.getElementById(\"language-search-dropdown\");\n  cart = document.querySelector(\".cart-item-list\");\n  emptyCart = document.querySelector(\".empty-state\");\n  cartContainer = document.querySelector(\".cart-container\");\n  closeLink = document.querySelector(\".cart-close\");\n  cartIcon = document.querySelector(\"a.store-cart-btn\");\n  cartBadge = document.querySelector(\".store-cart-item-number\");\n  greeting = document.querySelector(\".store-sign-in > div\");\n  firebaseAuthContainer = document.querySelector(\"#sign-in-content\");\n  checkoutAsGuestButton = document.querySelector(\"#checkout-as-guest\");\n  cartCheckoutBtn = document.querySelector(\".cart-btn-wrapper\");\n  //\tCallbacks\n  onAddItemToCart;\n  onBibleDropdownChange;\n  onSearchbarValueChange;\n  onLanguageChange;\n  onEditCartItemQuantity;\n  onUpdateCartItemQuantity;\n  oDeleteCartItem;\n  onCheckout;\n  onLogout;\n  onSignIn;\n\n  constructor() {\n    this.createCallbacks();\n    this.checkoutAsGuestButton.textContent = \"Checkout as guest\";\n  }\n\n  createCallbacks() {\n    this.closeLink.style.opacity = \"1\";\n    this.cartContainer.addEventListener(\"click\", (ev) => {\n      ev.preventDefault();\n      ev.stopPropagation();\n    });\n    this.bibleDropdown.onchange = ({ target: { options, selectedIndex } }) => {\n      var value = options[selectedIndex].value;\n      this.onBibleDropdownChange(selectedIndex, value);\n    };\n\n    this.searchbar.onclick = this.searchbar.onkeyup = (e) => {\n      this.onSearchbarValueChange(e.which, e.target.value);\n    };\n\n    this.searchbar.addEventListener(\"keyup\", (ev) => this.handleLanguageAutocompleteInteraction(ev));\n    this.languageAutocomplete.addEventListener(\"mouseover\", (ev) => this.handleLanguageAutocompleteInteraction(ev));\n\n    this.searchbar.addEventListener(\"keydown\", function (e) {\n      if (e.which == 40 || e.which == 38 || e.which == 13) {\n        e.preventDefault(); // stops left and right cursor movement\n      }\n    });\n\n    var checkouts = document.querySelectorAll(\".checkout\");\n    for (var i = 0; i < checkouts.length; i++) {\n      checkouts[i].onclick = () => {\n        this.onCheckout();\n      };\n    }\n\n    this.checkoutAsGuestButton.onclick = () => {\n      this.onGuestCheckout();\n    };\n\n    this.closeLink.addEventListener(\"click\", () => {\n      this.closeCart();\n    });\n  }\n\n  setSearchbar(text) {\n    this.searchbar.value = text;\n  }\n  setBiblesDropdown(bibles, selectedBible) {\n    var self = this;\n    var dropdown = self.bibleDropdown;\n\n    //\treset dropdown\n    dropdown.innerHTML = \"\";\n\n    if (!bibles || bibles.length === 0) {\n      dropdown.innerHTML = \"<option selected>No Versions Available</option>\";\n      return;\n    }\n\n    for (var j = 0; j < bibles.length; j++) {\n      var bible = bibles[j];\n\n      //\tDetermine if old testament, new, or portions\n      var portion = \"\";\n      var dam_id = bible.NT_Audio_DAM_ID || bible.OT_Audio_DAM_ID || \"\";\n      if (dam_id) {\n        var a = dam_id.slice(6, 7).toLowerCase();\n        if (a === \"n\") {\n          portion = \" - New Testament\";\n        } else if (a === \"o\") {\n          portion = \" - Old Testament\";\n        } else if (a === \"p\") {\n          portion = \" - Portions\";\n        }\n      }\n\n      var selected = \"\";\n      if (!selectedBible && j === 0) {\n        selected = \"selected\";\n      } else if (selectedBible && selectedBible.StockNumber.toLowerCase() === bible.StockNumber.toLowerCase()) {\n        selected = \"selected\";\n      }\n\n      dropdown.innerHTML +=\n        \"<option \" +\n          selected +\n          \" value='\" +\n          bible.StockNumber +\n          \"'>\" +\n          bible.Volume_Name +\n          \", \" +\n          bible.media_type.capitalize() +\n          \" - \" +\n          bible.Portion || bible.Scope + \"</option>\";\n    }\n  }\n\n  /**\n   * Checks product sale avaliability\n   * @param {*} product\n   * @param {*} keys\n   * @param {*} bible\n   */\n  isProductAvailable(product, keys, bible) {\n    const productName = String(product.title).toLowerCase();\n    if (keys.proclaimers.indexOf(productName) >= 0 && bible.Proclaimer === \"Yes\") {\n      return true;\n    } else if (keys.biblesticks.indexOf(productName) >= 0 && bible.Digital_Player === \"Yes\") {\n      return true;\n    } else if (productName.includes(\"sd card\") && bible.Micro_SD === \"Yes\") {\n      return true;\n    } else if (productName.includes(\"mp3 disc\") && bible.MPs) {\n      return true;\n    }\n    return false;\n  }\n\n  createProductPriceHtml(product, bible, fullMP3s) {\n    const productName = product.title.toLowerCase();\n    const pricing = (productName === \"mp3 disc\") & (fullMP3s.indexOf(bible.StockNumber) >= 0) ? \"29.00\" : product.price;\n    return `\n\t\t\t<h4 class=\"txt-h3 txt-deep-red txt-no-margin\">${pricing} USD</h4>\n\t\t\t<div>\n\t\t\t\t<form\n\t\t\t\t\tclass=\"store-item__content-options\"\n        >\n          <input \n          type=\"number\" \n          class=\"default-input default-input--store-qty w-input\" \n          maxlength=\"256\" \n          name=\"Product-Quantity\" \n          data-name=\"Product Quantity\" \n          placeholder=\"\" \n          value=\"1\"\n          id=\"quantity-${product.id}\">\n\t\t\t\t\t<input\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tdata-loading-text=\"Adding to cart...\"\n\t\t\t\t\tvalue=\"Add to Cart\"\n\t\t\t\t\tdata-id=\"${product.id}\"\n\t\t\t\t\tclass=\"btn-md btn-md-no-margin-y btn-md--store w-button\"\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t\t<div style=\"display: none;\" class=\"w-commerce-commerceaddtocartoutofstock store-item--no-stock\">\n\t\t\t\t\t<div class=\"txt-md\">This product is out of stock.</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tdata-node-type=\"commerce-add-to-cart-error\"\n\t\t\t\t\tstyle=\"display: none;\"\n\t\t\t\t\tid=\"message-container-${product.id}\"\n\t\t\t\t\tclass=\"w-commerce-commerceaddtocarterror store-item--not-available\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"txt-brand-red .w-add-to-cart-error-msg\">\n\t\t\t\t\t\tProduct is not available in this quantity.\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n  }\n\n  setProducts(keys, products, bible, fullMP3s) {\n    this.productList.innerHTML = \"\";\n\n    fullMP3s = fullMP3s || [];\n\n    if (!bible) {\n      return;\n    } // rare case - more of sanity check\n    const avaliableProducts = products.filter((product) => this.isProductAvailable(product, keys, bible));\n\n    if (avaliableProducts.length === 0) {\n      if (this.emptyProducts) {\n        this.emptyProducts.style.display = \"block\";\n      }\n      this.productList.style.display = \"none\";\n    } else {\n      this.productList.style.display = \"grid\";\n      if (this.emptyProducts) {\n        this.emptyProducts.style.display = \"none\";\n      }\n    }\n\n    const productNodes = avaliableProducts.map((product) => {\n      const node = document.createElement(\"div\");\n      node.setAttribute(\"role\", \"listitem\");\n      node.classList.add(\"col-wrapper--store\");\n      node.dataset.id = product.id;\n\n      const callToOrderHTML = '<div class=\"txt-sm txt-deep-red\">*Call to Order</div>';\n      const productPriceHTML = this.createProductPriceHtml(product, bible, fullMP3s);\n      const html = `\n            <img src=\"https://cdn.faithcomesbyhearing.com/resources/fcbh/img/store/products/${\n              product.thumbnail\n            }\" alt=\"${product.title}\" loading=\"lazy\" class=\"store-item__image\" />\n            <div class=\"store-item__content\">\n              <div class=\"txt-post-title-wrapper pb-8 mb-16 store__item-title\">\n                <h3 class=\"txt-h3\">${product.title}</h3>\n              </div>\n      <div class=\"txt-md mb-16\">${product.description}</div>\n      ${product.call_for_pricing ? callToOrderHTML : productPriceHTML}\n            </div>`;\n      node.innerHTML = html;\n      return node;\n    });\n\n    this.productList.append(...productNodes);\n    //\tseperate loop for adding event listener\n    //\tcreating html and adding callbacks don't work well together\n    const productForms = this.productList.querySelectorAll(\"form\");\n\n    for (const form of productForms) {\n      const input = form.querySelector('input[type=\"number\"]');\n      const button = form.querySelector('input[type=\"submit\"');\n      const product = products.find(({ id }) => id === button?.dataset.id);\n      if (!product) {\n        break;\n      }\n      const messageContainer = document.getElementById(`message-container-${product.id}`);\n      const submitFn = (ev) => {\n        try {\n          ev.preventDefault();\n          this.onAddItemToCart(product, input, messageContainer);\n        } catch (err) {\n          console.error(err);\n        }\n      };\n      form.addEventListener(\"submit\", submitFn);\n      button.addEventListener(\"click\", submitFn);\n    }\n  }\n\n  setLanguageAutocomplete(key, value, languageList) {\n    var _this = this;\n\n    if (key !== 38 && key !== 40 && key !== 13) {\n      var matches;\n      var i;\n\n      var _ret = (function () {\n        var self = _this;\n        var div = self.languageAutocomplete;\n        div.innerHTML = \"\";\n        div.style.display = \"none\";\n\n        var search = value.toLowerCase();\n        matches = 0;\n\n        if (search.length > 0) {\n          div.style.display = \"block\";\n\n          var _loop = function _loop() {\n            if (matches > 7) {\n              return {\n                v: {\n                  v: void 0,\n                },\n              };\n            }\n            var languageName = languageList[i];\n            if (languageName.toLowerCase().search(search) == 0) {\n              matches++;\n              var matchedText = languageName.slice(0, search.length);\n              var restOfText = languageName.slice(search.length);\n              var d = document.createElement(\"div\");\n              d.innerHTML = \"<strong>\" + matchedText + \"</strong>\" + restOfText;\n              d.onclick = function () {\n                self.onLanguageChange(languageName);\n              };\n              div.appendChild(d);\n            }\n          };\n\n          for (i = 0; i < languageList.length; i++) {\n            var _ret2 = _loop();\n\n            if (typeof _ret2 === \"object\") return _ret2.v;\n          }\n\n          if (matches == 0) {\n            div.style.display = \"none\";\n            console.log(\"no matches\");\n          }\n        }\n      })();\n\n      if (typeof _ret === \"object\") return _ret.v;\n    }\n  }\n  setCart(data) {\n    var self = this;\n\n    this.cart.innerHTML = \"\";\n\n    if (data.items.length > 0) {\n      document.querySelector(\".default-state\").style.display = \"block\";\n      this.emptyCart.style.display = \"none\";\n    } else {\n      document.querySelector(\".default-state\").style.display = \"none\";\n      this.emptyCart.style.display = \"flex\";\n    }\n\n    const items = data.items.map((item) => {\n      const node = document.createElement(\"div\");\n      node.classList.add(\"cart-item\");\n      node.dataset.id = item.id;\n      node.innerHTML = `\n\t\t\t<img src=\"https://cdn.faithcomesbyhearing.com/resources/fcbh/img/store/products/${item.thumbnail}\" alt=\"${item.title}\" class=\"cart-item-image\">\n\t\t\t<div class=\"cart-item-info\">\n\t\t\t\t<div class=\"cart-item-title\"> ${item.title}</div>\n\t\t\t\t<div class=\"txt-md cart-item-price\">$&nbsp;${item.unit_price}&nbsp;USD</div>\n\t\t\t\t<a href=\"#\" class=\"btn-link w-button\">\n\t\t\t\t\t<div>Remove</div>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<input type=\"text\" required=\"\" pattern=\"[0-9]+\" class=\"cart-item-qty default-input w-input\" name=\"cart-item-qty\" min=\"0\" value=\"${item.quantity}\">\n\t\t  `;\n      return node;\n    });\n\n    this.cart.append(...items);\n    //\tadd event listeners\n    const nodes = this.cart.querySelectorAll(\".cart-item\");\n    for (const node of nodes) {\n      const item = data.items.find((it) => it.id === node.dataset.id);\n      if (!item) {\n        //Sanity Check\n        break;\n      }\n      const removeBtn = node.querySelector(\"a\");\n      removeBtn.addEventListener(\"click\", () => {\n        this.onDeleteCartItem(item);\n      });\n\n      const qtyInput = node.querySelector(\"input\");\n      qtyInput.addEventListener(\"change\", () => {\n        try {\n          this.onUpdateCartItemQuantity(item, qtyInput);\n        } catch {\n          qtyInput.value = item.quantity; // If something went wrong return to previous qty\n        }\n      });\n    }\n    // Show the cart total\n    const total = this.cartContainer.querySelector(\".cart-subtotal\");\n    total.textContent = `$ ${data.total.toFixed(2)} USD`;\n\n    this.cartBadge.style.display = data.total_quantity ? \"inline-block\" : \"none\";\n    this.cartBadge.innerHTML = data.total_quantity;\n  }\n  setFirebaseAuthLoginUI(config) {\n    var self = this;\n    var ui = new window.firebaseui.auth.AuthUI(window.firebase.auth());\n    ui.start(self.firebaseAuthContainer, config);\n  }\n  setLoader(mode) {\n    if (mode === \"show\") {\n      var loader = document.createElement(\"div\");\n      loader.id = \"spinner-container\";\n      loader.innerHTML =\n        \"<div class='spinner'><div class='bounce1'></div><div class='bounce2'></div><div class='bounce3'></div></div>\";\n      this.productList.appendChild(loader);\n\n      setTimeout(function () {\n        loader.style.opacity = 1;\n      }, 100);\n    } else {\n      document.getElementById(\"spinner-container\").style.opacity = 0;\n      setTimeout(function () {\n        var loader = document.getElementById(\"spinner-container\");\n        if (loader) {\n          loader.parentElement.removeChild(loader);\n        }\n      }, 100);\n    }\n  }\n  flashIndicator(el, msg) {\n    var indicator = el.firstChild;\n    indicator.innerHTML = msg ? msg : \"Added to cart!\";\n    el.style.display = \"block\";\n    setTimeout(function () {\n      el.style.display = \"none\";\n    }, 2000);\n  }\n  handleLanguageAutocompleteInteraction(e) {\n    var self = this;\n    var div = self.languageAutocomplete;\n    var active = div.querySelector(\".isActive\");\n\n    if (div.style.display === \"block\") {\n      if (e.type === \"mouseover\" && e.target.nodeName.toLowerCase() != \"strong\") {\n        if (active) {\n          active.classList.remove(\"isActive\");\n        }\n        active = e.target;\n        active.classList.add(\"isActive\");\n      } else if (e.type == \"keyup\" && (e.which == 40 || e.which == 38)) {\n        e.preventDefault();\n\n        if (active) {\n          active.classList.remove(\"isActive\");\n        }\n\n        if (e.which == 40) {\n          //\tdown\n          active = !active ? div.firstChild : active.nextElementSibling || active;\n        } else if (e.which == 38) {\n          // up\n          if (!active) {\n            return;\n          }\n          active = active.previousElementSibling || active;\n        }\n        active.classList.add(\"isActive\");\n        self.setSearchbar(active.innerText);\n      } else if (e.type == \"keyup\" && e.which == 13) {\n        //\tenter was pressed\n        if (active) {\n          self.onLanguageChange(active.innerText);\n        }\n      }\n    }\n  }\n  resetQuantity(el) {\n    el.value = 1;\n  }\n  openCart() {\n    this.cartIcon.dispatchEvent(\n      new MouseEvent(\"click\", {\n        view: window,\n        bubbles: true,\n        cancelable: false,\n      })\n    );\n  }\n  closeCart() {\n    document.querySelector(\".cart-wrapper\").dispatchEvent(\n      new MouseEvent(\"click\", {\n        view: window,\n        bubbles: true,\n        cancelable: false,\n      })\n    );\n  }\n  openEditBox(element) {\n    var div = element.querySelector(\".content-block > div:nth-of-type(3)\");\n    var isClosed = div.style.maxHeight == \"0px\" || div.style.maxHeight == \"0\";\n    div.style.padding = isClosed ? \"8px 5px\" : \"0px\";\n    div.style.maxHeight = isClosed ? div.scrollHeight + \"px\" : \"0px\";\n    div.style.border = isClosed ? \"1px #e2e2e2 solid\" : \"none\";\n  }\n  setLastItemAddedBanner(product, data) {\n    var self = this;\n    var el = document.getElementById(\"last-item-added\");\n    if (!el) {\n      var parent = document.getElementById(\"store-wrapper\");\n      var sibling = document.getElementById(\"cart-sign-in-div\");\n      var div = document.createElement(\"div\");\n      div.id = \"last-item-added\";\n      parent.insertBefore(div, sibling);\n    }\n\n    var pluralExtension = data.total_quantity > 1 ? \"s\" : \"\";\n    el = document.getElementById(\"last-item-added\");\n    el.innerHTML =\n      \"<div class='added-div'><span>✔</span><img src='https://cdn.faithcomesbyhearing.com/resources/fcbh/img/store/products/\" +\n      product.thumbnail +\n      \"' style='margin:0px 10px'/><span>Added to Cart</span></div><div class='subtotal-div'><p>Cart subtotal (\" +\n      data.total_quantity +\n      \" item\" +\n      pluralExtension +\n      \"):<span> $\" +\n      data.total.toFixed(2) +\n      \"</span></p><section id='proceed-to-checkout' class='hover' onclick='onCheckout()'>Proceed to checkout</section><span class='hover last-item-cart-button'>Cart</span><div style='clear:both'></div></div><div style='clear:both'></div>\";\n\n    el.querySelector(\".last-item-cart-button\").onclick = function () {\n      self.openCart();\n    };\n\n    el.querySelector(\"#proceed-to-checkout\").onclick = function () {\n      self.onCheckout();\n    };\n  }\n  setUserGreeting(user) {\n    var self = this;\n    if (user) {\n      // User is signed in.\n      console.log(\"signed in\");\n      // hide modal\n      document.querySelector(\".modal-overlay\").dispatchEvent(\n        new MouseEvent(\"click\", {\n          view: window,\n          bubbles: true,\n          cancelable: false,\n        })\n      );\n      self.greeting.innerHTML =\n        \"Welcome<span class='user-name'>, \" +\n        user.displayName +\n        \"</span> (<span style='text-decoration:underline' class='hover logout'>Logout</span>)\";\n      self.greeting.querySelector(\".logout\").onclick = function (ev) {\n        ev.preventDefault();\n        ev.stopPropagation();\n        self.onLogout();\n      };\n    } else {\n      // No user is signed in.\n      console.log(\"signed out\");\n      self.greeting.innerHTML = \"<span id='sign-in'>Sign In</span>\";\n    }\n  }\n  setLoadingScreen(message) {\n    var div = document.createElement(\"div\");\n    div.id = \"loading-screen\";\n    div.innerHTML =\n      \"<h2 style='font-family:Raleway, sans-serif;text-align:center;margin-top: 100px;width:100%'>\" + message + \"</h2>\";\n    document.body.appendChild(div);\n  }\n  hideLastItemAddedBanner() {\n    var el = document.getElementById(\"last-item-added\");\n    if (el) {\n      el.style.display = \"none\";\n    }\n  }\n\n  openSigningModal() {\n    this.greeting.dispatchEvent(\n      new MouseEvent(\"click\", {\n        view: window,\n        bubbles: true,\n        cancelable: false,\n      })\n    );\n  }\n}\n","export class Controller {\n  /**\n   * @type {import('./model').Model}\n   */\n  model = null;\n  /**\n   * @type {import('./view').View}\n   */\n  view = null;\n\n  /**\n   *\n   * @param {import('./model').Model} model\n   * @param {import('./view').View} view\n   */\n  constructor(model, view) {\n    this.model = model;\n    this.view = view;\n    this.createViewCallbacks();\n    this.createEventListeners();\n  }\n\n  //\tCallbacks\n  createViewCallbacks() {\n    const self = this;\n    this.view.onAddItemToCart = function (product, input, messageContainer) {\n      var quantity = input.value;\n      if (isNaN(quantity) || !quantity || quantity <= 0) {\n        // show error message\n        self.view.flashIndicator(messageContainer, \"Invalid quantity selected.\");\n        return;\n      }\n      var added = self.model.addToCart(product, quantity);\n      if (added) {\n        self.view.setCart(self.model.getCartData());\n        self.view.flashIndicator(messageContainer);\n        self.view.resetQuantity(input);\n        self.view.openCart();\n        //\tlast item notification\n      }\n      //\tTODO: If not able to add product, do some error logging here or something\n    };\n\n    this.view.onBibleDropdownChange = function (newIndex, value) {\n      self.model.selectedStockNum = value;\n      self.view.setProducts(self.model.keys, self.model.products, self.model.getSelectedBible(), self.model.fullMP3s);\n    };\n\n    this.view.onSearchbarValueChange = function (key, value) {\n      self.view.setLanguageAutocomplete(key, value, self.model.langaugeNameList);\n    };\n\n    this.view.onLanguageChange = function (language) {\n      self.view.languageAutocomplete.style.display = \"none\";\n      self.handleLanguageChange(language, false);\n    };\n\n    this.view.onUpdateCartItemQuantity = function (item, element) {\n      const newQuantity = parseInt(element.value, 10);\n      if (isNaN(newQuantity) || !newQuantity || newQuantity <= 0) {\n        throw new Error(\"Bad quantity\");\n      }\n      self.model.updateCart(item, newQuantity);\n      self.view.setCart(self.model.getCartData());\n    };\n\n    this.view.onDeleteCartItem = function (item) {\n      self.model.deleteCartItem(item);\n      self.view.setCart(self.model.getCartData());\n    };\n\n    this.view.onCheckout = function () {\n      if (self.model.getCartData().total_quantity > 0) {\n        if (window.firebase.auth().currentUser) {\n          window.location.href = \"/audio-bibles/checkout\";\n        } else {\n          self.view.login.style.display = \"block\";\n        }\n      }\n    };\n\n    this.view.onGuestCheckout = function () {\n      if (self.model.getCartData().total_quantity > 0) {\n        window.location.href = \"/checkout1\";\n      }\n    };\n\n    this.view.cartCheckoutBtn.addEventListener(\"click\", (ev) => {\n      ev.preventDefault();\n      ev.stopPropagation();\n      if (this.model.user) {\n        window.location.href = \"/checkout1\";\n        return;\n      }\n      this.view.openSigningModal();\n    });\n\n    this.view.onLogout = function () {\n      window.firebase\n        .auth()\n        .signOut()\n        .then(\n          function () {\n            self.view.setLoadingScreen(\"Logging out...\");\n            window.location.replace(window.location.href); // refresh browser\n          },\n          function (error) {\n            console.log(\"error occurred with logout\");\n          }\n        );\n    };\n  }\n\n  createEventListeners() {\n    //\tEvent listeners\n    this.onViewDidLoad();\n\n    document.body.addEventListener(\"click\", (e) => {\n      //\tcloses language autcomplete when background is clicked\n      if (this.view.languageAutocomplete.style.display === \"block\" && !e.target.closest(\"#language-search-dropdown\")) {\n        this.view.languageAutocomplete.style.display = \"none\";\n      }\n    });\n\n    //\tFirebase event listener\n    //\tFires when the state of the user changes.\n    window.firebase.auth().onAuthStateChanged((user) => {\n      this.view.setUserGreeting(user);\n      this.model.user = user;\n    });\n  }\n\n  onViewDidLoad() {\n    console.log(\"loaded\");\n    var self = this;\n\n    //\tTODO: Check ie version\n    if (self.model.browserNotCompatible()) {\n      self.view.setLoadingScreen(\n        \"Your browser is not compatible. We recommend using Google Chrome, Mozilla Firefox, or Safari.\"\n      );\n      return;\n    }\n\n    //self.model.saveCart([]);\t// clears cart (only during beta testing)\n\n    self.view.setLoader(\"show\");\n    self.view.setFirebaseAuthLoginUI(self.model.firebaseAuthUIConfig);\n    self.model\n      .fetchProducts()\n      .then(function () {\n        self.model\n          .fetchBibles()\n          .then(function () {\n            var params = self.parseURLParameters(self.model.selectedLanguage, self.model.selectedStockNum);\n            self.view.setCart(self.model.getCartData());\n            self.view.setLoader(\"hide\");\n            document.body.style.overflow = \"hidden\"; // temporarily stop scrolling to stop wierd jumpy effect\n            self.handleLanguageChange(params.language, params.stockNum);\n            document.body.style.overflow = \"auto\"; // enable scrolling again\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  parseURLParameters(lang, stockId) {\n    return { language: lang, stockNum: stockId };\n  }\n\n  handleLanguageChange(lang, stockNum) {\n    var self = this;\n    self.model.selectedLanguage = lang; // set language\n    self.model.selectedStockNum = stockNum; // reset stock num\n    self.view.setSearchbar(self.model.selectedLanguage);\n    self.view.setBiblesDropdown(self.model.getBiblesForSelectedLanguage(), self.model.getSelectedBible());\n    self.view.setProducts(self.model.keys, self.model.products, self.model.getSelectedBible(), self.model.fullMP3s);\n  }\n}\n","import { Model } from \"../util/store/model\";\nimport { View } from \"../util/store/view\";\nimport { Controller } from \"../util/store/controller\";\n\nString.prototype.capitalize = function () {\n  var f = function f(s) {\n    s.charAt(0).toUpperCase() + s.substring(1);\n  };\n  return (\n    this.toLowerCase()\n      .split(\"-\")\n      //.map(f(s))\n      .map(function (s) {\n        return s.charAt(0).toUpperCase() + s.substring(1);\n      })\n      .join(\"-\")\n  );\n};\n\nfunction createScript(src) {\n  return new Promise((resolve) => {\n    const script = document.createElement(\"script\");\n    script.type = \"text/javascript\";\n    script.setAttribute(\"defer\", \"\");\n    script.src = src;\n    document.head.appendChild(script);\n    script.onload = function () {\n      resolve();\n    };\n  });\n}\n\nwindow.addEventListener(\"load\", async () => {\n  await createScript(\"https://www.gstatic.com/firebasejs/4.9.1/firebase-app.js\");\n  await createScript(\"https://www.gstatic.com/firebasejs/4.9.1/firebase-firestore.js\");\n  await createScript(\"https://cdn.firebase.com/libs/firebaseui/2.5.1/firebaseui.js\");\n  await createScript(\"https://www.gstatic.com/firebasejs/4.9.1/firebase-auth.js\");\n  FCBH.initializeFirebase();\n  const model = new Model();\n  const view = new View();\n  const controller = new Controller(model, view);\n});\n"],"sourceRoot":""}