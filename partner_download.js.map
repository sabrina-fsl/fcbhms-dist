{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/pages/PartnerDownload.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","languages","versions","versionIds","FCBH","docReady","searchbar","document","getElementById","languageAutocomplete","onSearchbarValueChange","languageList","matches","_ret","div","innerHTML","style","display","search","toLowerCase","length","_loop","v","languageName","matchedText","slice","restOfText","createElement","onclick","onLanguageChange","appendChild","_ret2","console","log","setLanguageAutocomplete","map","lang","english_name","language","handleLanguageChange","setSearchbar","version","selectedLang","find","language_family_code","fetchVersions","handleLanguageAutocompleteInteraction","e","active","querySelector","type","target","nodeName","classList","remove","add","which","innerText","preventDefault","nextElementSibling","firstChild","previousElementSibling","text","axiosInstance","response","json","data","languageFamilies","indexOf","push","undefined","error","showErrorWithMessage","selectedDamId","queries","$","url","dataType","success","j","dam_id","renderVersions","renderCopyright","container","removeChild","testamentInitial","testament","node","href","textNode","createTextNode","volume_name","media_type","id","addEventListener","damId","textContent","hideError","textValue","setAttribute","dispatchEvent","MouseEvent","view","window","bubbles","cancelable","onVersionChange","selected","overflow","rootDamId","details","toUpperCase","mark","organization","org","organization_role","organization_url","copyrightNode","lastChild","obj","prop","notEmpty","copyrightMark","span","copyrighter","copyrighterURL","licensor","licensorURL","holderOrg","holderURL","publisherMark","onDownloadClicked","event","getAttribute","Array","from","querySelectorAll","findIndex","option","downloader","download","click","message","messageContainer","onkeyup","ev","ua","navigator","userAgent","msie","parseInt","substring","isLessThenIE10","loadLanguages","finally","forEach","el","button"],"mappings":"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","file":"partner_download.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 66);\n","//********************\n//\tVariables\n//********************\nvar languages = [];\nvar queriedLanguages = [];\nvar versions = [];\nvar versionIds = [];\nFCBH.docReady(() => {\nconst searchbar = document.getElementById(\"mp3-language-partners-2\");\n  const languageAutocomplete = document.getElementById(\"language-search-dropdown\");\n\n  const onSearchbarValueChange = function (key, value) {\n    setLanguageAutocomplete(\n      key,\n      value,\n      languages.map((lang) => lang.english_name)\n    );\n  };\n\n  const onLanguageChange = function (language) {\n    languageAutocomplete.style.display = \"none\";\n    handleLanguageChange(language, false);\n    setSearchbar(language);\n  };\n\n  function handleLanguageChange(lang, version = \"ENGESVN2DA\") {\n    console.log(lang)\n    console.log(languages)\n    const selectedLang = languages.find(\n      (language) => language.english_name.toLowerCase() === lang?.toLowerCase()\n    ) || {\n      english_name: \"English\",\n      language_family_code: \"ENG\",\n    };\n    fetchVersions(selectedLang, version);\n  }\n\n  searchbar.onclick = searchbar.onkeyup = (e) => {\n    onSearchbarValueChange(e.which, e.target.value);\n  };\n\n  searchbar.addEventListener(\"keyup\", (ev) => handleLanguageAutocompleteInteraction(ev));\n  languageAutocomplete.addEventListener(\"mouseover\", (ev) => handleLanguageAutocompleteInteraction(ev));\n\n  searchbar.addEventListener(\"keydown\", function (e) {\n    if (e.which == 40 || e.which == 38 || e.which == 13) {\n      e.preventDefault(); // stops left and right cursor movement\n    }\n  });\n\n  function setLanguageAutocomplete(key, value, languageList) {\n    if (key !== 38 && key !== 40 && key !== 13) {\n      var matches;\n      var i;\n\n      var _ret = (function () {\n        var div = languageAutocomplete;\n        div.innerHTML = \"\";\n        div.style.display = \"none\";\n\n        var search = value.toLowerCase();\n        matches = 0;\n\n        if (search.length > 0) {\n          div.style.display = \"block\";\n\n          var _loop = function _loop() {\n            if (matches > 7) {\n              return {\n                v: {\n                  v: void 0,\n                },\n              };\n            }\n            var languageName = languageList[i];\n            if (languageName.toLowerCase().search(search) == 0) {\n              matches++;\n              var matchedText = languageName.slice(0, search.length);\n              var restOfText = languageName.slice(search.length);\n              var d = document.createElement(\"div\");\n              d.innerHTML = \"<strong>\" + matchedText + \"</strong>\" + restOfText;\n              d.onclick = function () {\n                onLanguageChange(languageName);\n              };\n              div.appendChild(d);\n            }\n          };\n\n          for (i = 0; i < languageList.length; i++) {\n            var _ret2 = _loop();\n\n            if (typeof _ret2 === \"object\") return _ret2.v;\n          }\n\n          if (matches == 0) {\n            div.style.display = \"none\";\n            console.log(\"no matches\");\n          }\n        }\n      })();\n\n      if (typeof _ret === \"object\") return _ret.v;\n    }\n  }\n\n  function handleLanguageAutocompleteInteraction(e) {\n    var div = languageAutocomplete;\n    var active = div.querySelector(\".isActive\");\n\n    if (div.style.display === \"block\") {\n      if (e.type === \"mouseover\" && e.target.nodeName.toLowerCase() != \"strong\") {\n        if (active) {\n          active.classList.remove(\"isActive\");\n        }\n        active = e.target;\n        active.classList.add(\"isActive\");\n      } else if (e.type == \"keyup\" && (e.which == 40 || e.which == 38)) {\n        e.preventDefault();\n\n        if (active) {\n          active.classList.remove(\"isActive\");\n        }\n\n        if (e.which == 40) {\n          //\tdown\n          active = !active ? div.firstChild : active.nextElementSibling || active;\n        } else if (e.which == 38) {\n          // up\n          if (!active) {\n            return;\n          }\n          active = active.previousElementSibling || active;\n        }\n        active.classList.add(\"isActive\");\n        setSearchbar(active.innerText);\n      } else if (e.type == \"keyup\" && e.which == 13) {\n        //\tenter was pressed\n        if (active) {\n          onLanguageChange(active.innerText);\n        }\n      }\n    }\n  }\n\n  function setSearchbar(text) {\n    searchbar.value = text;\n  }\n\n//********************\n//\tOn Document Ready\n//********************\nisLessThenIE10();\n\n//\tLoads all the languages\n//\tAlso calls function that reads url to display version in url (if any)\nloadLanguages().finally(() => {\n  document.querySelectorAll(\".dropdown-list\").forEach((el) => {\n    el.style[\"max-height\"] = \"300px\";\n    el.style[\"overflow\"] = \"auto\";\n  });\n});\n\n//********************\n//\tFunctions\n//********************\nfunction isLessThenIE10() {\n  var ua = window.navigator.userAgent;\n  var msie = ua.indexOf(\"MSIE \");\n\n  if (msie > 0) {\n    // IE 10 or older => return version number\n    var e = parseInt(ua.substring(msie + 5, ua.indexOf(\".\", msie)), 10);\n    if (e < 10) {\n      document.getElementById(\"ie-error\").style.display = \"block\";\n    }\n  }\n}\n\nasync function loadLanguages() {\n  try {\n    const response = await FCBH.axiosInstance.get(\n      \"https://dbt.io/library/volumelanguage?key=149ae094a3593feba119e15db433804f&media=audio&v=3\"\n    );\n    const json = response.data;\n\n    const languageFamilies = [];\n    for (let i = 0; i < json.length; i++) {\n      // add all languages to a languages array\n      // make another array which will be the searched language array\n      if (languageFamilies.indexOf(json[i].language_family_code) < 0) {\n        languageFamilies.push(json[i].language_family_code);\n        languages.push(json[i]);\n      }\n    }\n    handleLanguageChange(undefined, \"ENGESVN2DA\");\n    setSearchbar(\"English\");\n  } catch (err) {\n    console.error(err);\n    showErrorWithMessage(\"An error occurred. Please try again later.\");\n  }\n}\n\nfunction populateQueryResults(search) {\n  const div = document.querySelector(\"#version-partners .dropdown-list\");\n\n  //\tremove all queried results\n  while (div.lastChild) {\n    div.removeChild(div.lastChild);\n  }\n\n  queriedLanguages = [];\n\n  //\trepopulate queried results.\n  //\tif search text is provided, query from search text.\n  //\totherwise load all languages.\n\n  for (let i = 0; i < languages.length; i++) {\n    const l = languages[i];\n\n    const node = document.createElement(\"A\");\n    node.href = \"#\";\n    node.classList.add(\"dropdown-link\", \"w-dropdown-link\");\n    let textNode = document.createTextNode(l.english_name);\n    let boldNode;\n\n    if (search) {\n      if (l.english_name.toLowerCase().substring(0, search.length) === search.toLowerCase()) {\n        const matchedText = l.english_name.slice(0, search.length);\n        const restOfText = l.english_name.slice(search.length); // bold part\n\n        boldNode = document.createElement(\"STRONG\");\n        const boldTextNode = document.createTextNode(restOfText);\n        boldNode.appendChild(boldTextNode);\n\n        textNode = document.createTextNode(matchedText);\n      } else {\n        continue;\n      }\n    }\n\n    node.appendChild(textNode);\n    if (boldNode) {\n      node.appendChild(boldNode);\n    }\n\n    if (browserIsFirefox()) {\n      //\taccomodate for Firefox\n      node.addEventListener(\"click\", onClickedLanguage);\n    } else {\n      node.onclick = function () {\n        onClickedLanguage(event);\n      };\n    }\n\n    node.id = queriedLanguages.length;\n    div.appendChild(node);\n\n    queriedLanguages.push(l); // add to queried languages array\n  }\n\n  //\tIf there are no queried languages, display \"no results\"\n  if (queriedLanguages.length == 0) {\n    var node = document.createElement(\"DIV\");\n    var textNode = document.createTextNode(\"No search results.\");\n    node.appendChild(textNode);\n    div.appendChild(node);\n  }\n}\n\nfunction generateVersionFromUrl() {\n  var url = window.location.pathname;\n  var parts = url.split(\"/\"); // [\"\", \"audio-bibles\", \"download\", \"eng\", \"engesvc2da\"]\n\n  if (parts.length > 3 && parts.length < 7) {\n    var lang = removeQueryParameters(parts[3]);\n    var damId = removeQueryParameters(parts[4]);\n\n    if (lang) {\n      //\tvalidate the language\n      var validLanguage = false;\n\n      for (var i = 0; i < languages.length; i++) {\n        if (languages[i].language_family_code.toLowerCase() == lang.toLowerCase()) {\n          validLanguage = languages[i];\n          break;\n        }\n      }\n\n      //\tif language is not a valid language\n      if (!validLanguage) {\n        showErrorWithMessage(lang + \" language is not supported.\");\n        fetchVersions({ english_name: \"English\", language_family_code: \"ENG\" }, \"ENGESVN2DA\");\n        return;\n      }\n\n      fetchVersions(validLanguage, damId);\n      return;\n    }\n  }\n  //\tload default audio bible version\n  fetchVersions({ english_name: \"English\", language_family_code: \"ENG\" }, \"ENGESVN2DA\");\n}\n\nfunction onTypeForLangauge(el) {\n  populateQueryResults(el.value);\n}\n\nfunction onClickedLanguage(event) {\n  hideError();\n  var id;\n  try {\n    id = event.srcElement.id; // accommodate for IE10\n  } catch (err) {\n    id = event.target.id;\n  } finally {\n    var lang = queriedLanguages[id];\n    document.querySelector(\"#w-dropdown-toggle-0 div\").dispatchEvent(\n      new MouseEvent(\"mouseup\", {\n        view: window,\n        bubbles: true,\n        cancelable: false,\n      })\n    );\n    document.querySelector(\"#w-dropdown-toggle-0 div\").dispatchEvent(\n      new MouseEvent(\"click\", {\n        view: window,\n        bubbles: true,\n        cancelable: false,\n      })\n    );\n    fetchVersions(lang, false);\n  }\n}\n\nfunction fetchVersions(lang, selectedDamId) {\n  if (lang) {\n    versions = [];\n    versionIds = [];\n    closeSearchDiv();\n\n    var queries = [\n      \"https://dbt.io/library/volume?key=149ae094a3593feba119e15db433804f&media=audio&status=live&delivery=digital_download&language_family_code=\" +\n        lang.language_family_code +\n        \"&v=2\",\n      \"https://dbt.io/library/volume?key=149ae094a3593feba119e15db433804f&media=audio&status=live&delivery=digital_download&language_family_code=\" +\n        lang.language_family_code +\n        \"&rich=1&v=3\",\n    ];\n\n    for (var i = 0; i < queries.length; i++) {\n      $.get({\n        url: queries[i],\n        dataType: \"json\",\n        success: function (json) {\n          if (json) {\n            // triggers watch function\n            for (var j = 0; j < json.length; j++) {\n              if (versionIds.indexOf(json[j].dam_id) < 0) {\n                versions.push(json[j]);\n                versionIds.push(json[j].dam_id);\n              }\n            }\n\n            //self.versions.push(json);\n            renderVersions(versions, selectedDamId);\n\n            if (json.length > 0) {\n              var s = selectedDamId ? selectedDamId : versions[0].dam_id;\n              renderCopyright(s);\n            }\n          }\n        },\n        error: function () {\n          showErrorWithMessage(\"An error occurred. Please try again later.\");\n        },\n      });\n    }\n  }\n}\n\nfunction renderVersions(json, selectedDamId) {\n  const container = document.querySelector(\"#version-partners .dropdown-list\");\n\n  //\tremove previous versions\n  while (container.firstChild) {\n    container.removeChild(container.firstChild);\n  }\n\n  if (json.length > 0) {\n    var damId;\n    for (var i = 0; i < json.length; i++) {\n      var j = json[i];\n      var testamentInitial = j.dam_id.slice(6, 7);\n      var testament = \"\";\n      if (testamentInitial == \"N\") {\n        testament = \"New Testament\";\n      } else if (testamentInitial == \"O\") {\n        testament = \"Old Testament\";\n      } else if (testamentInitial == \"P\") {\n        testament = \"Partial\";\n      }\n\n      const node = document.createElement(\"A\");\n      node.href = \"#\";\n      node.classList.add(\"dropdown-link\", \"w-dropdown-link\");\n      const textNode = document.createTextNode(j.volume_name + \" Audio \" + j.media_type + \" \" + testament);\n      node.id = j.dam_id;\n      node.appendChild(textNode);\n      node.addEventListener(\"click\", () => {\n        onVersionChange(node.id, node.textContent);\n      });\n      container.appendChild(node);\n\n      if (selectedDamId) {\n        if (selectedDamId.toLowerCase() == j.dam_id.toLowerCase()) {\n          node.selected = true;\n          damId = j.dam_id;\n        }\n      }\n    }\n  } else {\n    const node = document.createElement(\"A\");\n    node.href = \"#\";\n    node.classList.add(\"dropdown-link\", \"w-dropdown-link\");\n    var textNode = document.createTextNode(\"No versions available.\");\n    node.appendChild(textNode);\n    node.id = \"noVersion\";\n    container.appendChild(node);\n  }\n  const textValue = document.querySelector(\"#w-dropdown-toggle-0 div\");\n  textValue.style.overflow = \"hidden\";\n  textValue.setAttribute(\"data-value\", container.firstChild.id);\n  textValue.textContent = container.firstChild.textContent;\n}\n\nfunction onVersionChange(damId, textContent) {\n  hideError();\n  if (damId) {\n    console.log('here', textValue)\n    const textValue = document.querySelector(\"#w-dropdown-toggle-0 div\");\n    textValue.setAttribute(\"data-value\", damId);\n    textValue.textContent = textContent;\n    textValue.dispatchEvent(\n      new MouseEvent(\"mouseup\", {\n        view: window,\n        bubbles: true,\n        cancelable: false,\n      })\n    );\n    textValue.dispatchEvent(\n      new MouseEvent(\"click\", {\n        view: window,\n        bubbles: true,\n        cancelable: false,\n      })\n    );\n    renderCopyright(damId);\n    return;\n  }\n}\n\nfunction renderCopyright(damId) {\n  if (!damId) {\n    return;\n  }\n\n  var rootDamId = damId.slice(0, 7); // get room dam id\n  var details = {};\n\n  $.get({\n    url:\n      \"https://dbt.io/library/metadata?key=149ae094a3593feba119e15db433804f&dam_id=\" + rootDamId.toUpperCase() + \"&v=3\",\n    dataType: \"json\",\n    success: function (json) {\n      if (json) {\n        for (var i = 0; i < json.length; i++) {\n          if (json[i].dam_id.slice(-2) == \"DA\") {\n            details[\"publisherMark\"] = json[i].mark; // get publisher mark\n            for (var j = 0; j < json[i].organization.length; j++) {\n              var org = json[i].organization[j];\n\n              if (org.organization_role == \"licensor\") {\n                details[\"licensor\"] = org.organization;\n                details[\"licensorURL\"] = org.organization_url;\n              }\n\n              if (org.organization_role == \"holder\") {\n                details[\"holderOrg\"] = org.organization;\n                details[\"holderURL\"] = org.organization_url;\n              }\n            }\n          }\n\n          if (json[i].dam_id.slice(-2) == \"ET\") {\n            details[\"copyrightMark\"] = json[i].mark; // get copyright mark\n            if (json[i].organization.length > 0) {\n              //return cr.organization[0];\n              details[\"copyrighter\"] = json[i].organization[0].organization;\n              details[\"copyrighterURL\"] = json[i].organization[0].organization_url;\n            }\n          }\n        }\n      }\n\n      const copyrightNode = document.querySelector(\"#wf-form-MP3-Downloads-Partner .txt-notice\");\n      while (copyrightNode.lastChild) {\n        copyrightNode.removeChild(copyrightNode.lastChild);\n      }\n\n      if (notEmpty(details)) {\n        if (details.copyrightMark) {\n          const span = document.createElement(\"span\");\n          span.innerHTML = details.copyrightMark;\n          span.classList.add(\"block\");\n          copyrightNode.appendChild(span);\n        }\n        if (details.copyrighter && details.copyrighterURL) {\n          const span = document.createElement(\"span\");\n          span.innerHTML = \"<a href='\" + details.copyrighterURL + \"'>\" + details.copyrighter + \"</a>\";\n          span.classList.add(\"block\");\n          copyrightNode.appendChild(span);\n        }\n        if (details.licensor && details.licensorURL) {\n          const span = document.createElement(\"span\");\n          span.innerHTML = \"<a href='\" + details.licensorURL + \"'> \" + details.licensor + \"</a>\";\n          span.classList.add(\"block\");\n          copyrightNode.appendChild(span);\n        }\n\n        if (details.holderOrg && details.holderURL) {\n          const span = document.createElement(\"span\");\n          span.innerHTML =\n            \"This Bible audio is brought to you by <a href='\" + details.holderURL + \"'>\" + details.holderOrg + \"</a>\";\n          span.classList.add(\"block\");\n          copyrightNode.appendChild(span);\n        }\n        if (details.publisherMark) {\n          const span = document.createElement(\"span\");\n          span.innerHTML = details.publisherMark;\n          span.classList.add(\"block\");\n          copyrightNode.appendChild(span);\n        }\n      } else {\n        copyrightNode.textContent = \"No copyright information available.\";\n      }\n    },\n    error: function () {\n      // error handling\n    },\n  });\n}\n\nfunction onDownloadClicked(event) {\n  event.preventDefault();\n  hideError();\n\n  const textValue = document.querySelector(\"#w-dropdown-toggle-0 div\");\n  const damId = textValue.getAttribute(\"data-value\");\n  if (damId === \"noVersion\") {\n    showErrorWithMessage(\"Please select an audio bible version.\");\n    return;\n  }\n\n  const i = Array.from(document.querySelectorAll(\"#version-partners .dropdown-list a\")).findIndex(\n    (option) => option.id === damId\n  );\n\n  if (i < 0) {\n    // throw error\n    console.log(\"COULDN'T FIND VERSION\");\n    showErrorWithMessage(\"An error occurred. Please try again later.\");\n    return;\n  }\n\n  v = versions[i];\n  if (!v) {\n    // throw error\n    console.log(\"VERSION IS NOT TRUE\");\n    showErrorWithMessage(\"An error occurred. Please try again later.\");\n    return;\n  }\n  const downloader = document.createElement(\"a\");\n  downloader.download = true;\n  downloader.href = \"https://fcbhabdm.s3.amazonaws.com/mp3audiobibles2/\" + v.dam_id + \"/\" + v.dam_id + \".zip\";\n  downloader.click();\n}\n\nfunction toggleSearchDiv() {\n  var state = document.getElementById(\"searchDiv\").style.display;\n  document.getElementById(\"searchDiv\").style.display = state == \"block\" ? \"none\" : \"block\";\n  //if (state == \"none\") {\n  document.getElementById(\"searchbar\").focus();\n  //}\n}\n\nfunction closeSearchDiv() {\n  if (document.getElementById(\"searchDiv\")) document.getElementById(\"searchDiv\").style.display = \"none\";\n}\n\nfunction showErrorWithMessage(message) {\n  const messageContainer = document.querySelector(\".w-form-fail\");\n  const text = messageContainer.querySelector(\"div\");\n  messageContainer.style.display = \"block\";\n  text.innerHTML = message;\n}\n\nfunction hideError() {\n  const messageContainer = document.querySelector(\".w-form-fail\");\n  messageContainer.style.display = \"none\";\n}\n\nfunction showDonationErrorWithMessage(message) {\n  document.getElementById(\"donationError\").style.display = \"block\";\n  document.getElementById(\"donationError\").innerHTML = message;\n}\n\n//********************\n//\tHelpers\n//********************\nfunction notEmpty(obj) {\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction keyExists(k) {\n  if (k == null || k == undefined || k == \"\") {\n    return false;\n  }\n  return true;\n}\n\nfunction browserIsFirefox() {\n  var f = navigator.userAgent.search(\"Firefox\");\n  if (f > -1) {\n    return true;\n  }\n  return false;\n}\n\nfunction removeQueryParameters(segment) {\n  if (!segment) {\n    return false;\n  }\n  var parts = segment.split(\"?\");\n  return parts[0];\n}\n\nfunction isDescendant(parent, child) {\n  var node = child.parentNode;\n  while (node != null) {\n    if (node == parent) {\n      return true;\n    }\n    node = node.parentNode;\n  }\n  return false;\n}\nfunction lettersOnly(text) {\n  var t = text.trim();\n  var letters = /^(\\s|[A-Za-z])+$/;\n  return t.match(letters) ? true : false;\n}\n\nfunction validEmail(text) {\n  var t = text.trim();\n  var letters = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return t.match(letters) ? true : false;\n}\n\n\n  document.getElementById(\"wf-form-MP3-Downloads-Partner\").addEventListener(\"submit\", onDownloadClicked);\n  document.querySelectorAll(`#wf-form-MP3-Downloads-Partner input[type='submit']`).forEach((button) => {\n    button.addEventListener(\"click\", onDownloadClicked);\n  });\n});\n"],"sourceRoot":""}